(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["file"],{"1f03":function(e,t,s){"use strict";s("2211")},2211:function(e,t,s){},"310a":function(e,t,s){"use strict";s("ce04")},"34f6":function(e,t,s){},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,s){var r=s("1d80"),a=s("5899"),i="["+a+"]",n=RegExp("^"+i+i+"*"),c=RegExp(i+i+"*$"),o=function(e){return function(t){var s=String(r(t));return 1&e&&(s=s.replace(n,"")),2&e&&(s=s.replace(c,"")),s}};e.exports={start:o(1),end:o(2),trim:o(3)}},6572:function(e,t,s){"use strict";s("34f6")},"9c88":function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.chainId&&e.address?s("div",{staticClass:"file"},[s("h2",[e._v(e._s(e.meta.title))]),e.imageUrl?[s("img",{staticClass:"pic",attrs:{src:e.imageUrl}}),s("ul",{staticClass:"img-data"},[e.imageDate?s("li",[s("strong",[e._v("Received on: ")]),s("span",[e._v(e._s(e.imageDate))])]):e._e(),e.cache.node?s("li"):e._e(),s("strong",[e._v("from: ")]),s("span",[e._v(e._s(e.cache.node))])])]:s("div",{staticClass:"file-content"},[e.imageUrl||e.cache.size?e._e():[e.hideCache?e._e():s("img",{directives:[{name:"show",rawName:"v-show",value:void 0!==e.hideCache,expression:"undefined !== hideCache"}],staticClass:"pic cached",attrs:{src:"cache/"+e.chainId+"/"+e.address+"."+e.meta.extension},on:{error:e.imgError,load:e.imgLoaded}}),s("p",{directives:[{name:"show",rawName:"v-show",value:!e.hideCache,expression:"!hideCache"}]},[s("em",[e._v("This is a cached image click")]),s("button",{staticClass:"btn",on:{click:e.getImageFromBC}},[e._v(" here ")]),s("em",[e._v("to get it from  "),s("strong",[e._v(e._s(e.net.name))])])])],e.isRequestingSize&&!e.cache.size?s("div",{staticClass:"frame"},[s("spinner"),e._m(0)],1):e._e(),s("file-chunks",{attrs:{chainId:e.chainId,address:e.address}})],2),e.meta?s("address-title",{attrs:{meta:e.meta,address:e.address,net:e.net}}):e._e(),e.cache.log.length?s("log-ctrl",{attrs:{log:e.cache.log}}):e._e()],2):e._e()},a=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("small",[s("em",[e._v("Getting chunks size")])])}],i=s("5530"),n=s("1da1"),c=(s("d3b7"),s("3ca3"),s("ddb0"),s("2b3d"),s("96cf"),s("2f62")),o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("svg",{staticClass:"loading-circle",attrs:{width:e.size,height:e.size,viewBox:e.viewBox}},[s("path",{staticClass:"circle",attrs:{d:e.path,"stroke-dasharray":e.stroke,"stroke-width":e.strokeWidth}})])},h=[],u=(s("a9e3"),s("99af"),s("a15b"),{name:"spinner",props:{size:{type:Number,default:50},strokeW:Number,duration:{type:Number,default:3e3}},data:function(){return{interval:null,percent:0,startTime:0}},created:function(){this.nextFrame()},mounted:function(){this.setStartTime()},beforeDestroy:function(){cancelAnimationFrame(this.interval)},computed:{s:function(){return this.size-this.strokeWidth},viewBox:function(){var e=this.size;return"0 0 ".concat(e," ").concat(e)},stroke:function(){var e=this.percent,t=this.circumference;return"".concat(t/100*e,", ").concat(t)},strokeWidth:function(){var e=this.strokeW;return e||this.size/4},radius:function(){return this.s/2},circumference:function(){return this.s*Math.PI},diameter:function(){return 2*this.radius},path:function(){var e=this.s,t=this.diameter,s=this.radius,r=this.strokeWidth,a=[];return a.push("M ".concat(e/2+r/2," ").concat(r/2)),a.push("a".concat(s," ").concat(s,"  0 0 1 0 ").concat(t)),a.push("a".concat(s," ").concat(s,"  0 0 1 0 -").concat(t)),a.join(" ")}},methods:{setStartTime:function(){this.startTime=Date.now()},nextFrame:function(){this.interval=requestAnimationFrame(this.animate)},animate:function(){var e=Date.now()-this.startTime,t=this.duration;this.percent=parseInt(100*e/t),this.percent>99&&this.setStartTime(),this.nextFrame()}}}),d=u,l=(s("310a"),s("2877")),f=Object(l["a"])(d,o,h,!1,null,null,null),m=f.exports,g=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.size?s("div",{staticClass:"chunks"},[e._l(e.size,(function(t){return s("div",{staticClass:"row"},[e._l(e.size,(function(r){return[s("div",{staticClass:"chunk",class:e.chunkCss(e.chunkNumber(t,r)),attrs:{id:"c-"+e.chunkNumber(t,r)}})]}))],2)})),s("div",{staticClass:"row frame"},[s("ul",{staticClass:"plain small txt-center"},[s("li",[e._v("Received "+e._s(e.chunksDone)+" of "+e._s(e.cache.size)+" chunks")]),e.progress?s("li",{staticClass:"spaced"},[s("progress-bar",{attrs:{progress:e.progress,width:150}})],1):e._e(),e.progress?s("li",[s("small",[e._v(e._s(e.progress)+"%")])]):e._e(),e.elapsed&&e.totalTime?s("li",{staticClass:"spaced"},[s("small",[e._v(e._s(e._f("mToTime")(e.elapsed))+" / "+e._s(e._f("mToTime")(e.totalTime)))])]):e._e()])])],2):e._e()},v=[],p=(s("b64b"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("svg",{staticClass:"progress-bar",attrs:{width:e.width,height:e.height}},[s("rect",{staticClass:"bg",attrs:{x:"0",y:"0",height:e.height,width:e.width}}),s("rect",{staticClass:"bar",attrs:{x:"0",y:"0",height:e.height,width:e.barWidth}})])}),b=[],_={name:"progress-bar",props:{width:{type:Number,default:50},height:{type:Number,default:10},duration:{type:Number,default:5e3},progress:{type:Number}},data:function(){return{interval:null,percent:0,startTime:0}},created:function(){this.interval=requestAnimationFrame(this.animate)},beforeDestroy:function(){this.removeInterval()},computed:{barWidth:function(){return this.percent+"%"}},methods:{animate:function(){var e=this.progress,t=this.duration;this.startTime||(this.startTime=Date.now());var s=Date.now()-this.startTime;this.percent=e||parseInt(100*s/t),this.percent<100&&(this.interval=requestAnimationFrame(this.animate))},removeInterval:function(){cancelAnimationFrame(this.interval)}}},I=_,C=(s("e720"),Object(l["a"])(I,p,b,!1,null,null,null)),k=C.exports,w=(s("4de4"),s("2b0e")),N=w["a"].filter("m-to-seconds",(function(e){var t=Math.floor(e/1e3);return t=t>=0?t:0,t})),T=w["a"].filter("m-to-time",(function(e){return new Date(parseInt(e)).toISOString().substr(11,8)})),x={name:"file-chunks",props:["chainId","address"],components:{ProgressBar:k},filters:{mToSeconds:N,mToTime:T},computed:{cache:function(){var e=this.chainId,t=this.address,s=this.getCache;return s()({chainId:e,address:t})},size:function(){var e=this.cache.size;return e?Math.ceil(Math.sqrt(e)):0},chunksDone:function(){return Object.keys(this.cache.chunks).length},progress:function(){var e=this.chunksDone,t=this.cache.size;return t&&e?Math.floor(100*e/t):0},elapsed:function(){var e=this.chainId,t=this.address,s=this.getChunksTime,r=s()({chainId:e,address:t});return r},totalTime:function(){var e=this.elapsed,t=this.chunksDone,s=this.cache;if(!e||!t)return 0;var r=e/t;return Math.ceil(s.size*r)}},methods:Object(i["a"])(Object(i["a"])({},Object(c["c"])(["getCache","isChunkRequested","getChunksTime"])),{},{chunkNumber:function(e,t){return t-1+this.size*(e-1)},chunkCss:function(e){if(e>this.cache.size)return"disabled";var t=this.isChunkRequested,s=this.address,r=this.chainId,a=this.cache,i=t()({address:s,chainId:r,chunk:e}),n=a.chunks[e];return n?"done":i?"requested":void 0}})},z=x,j=(s("6572"),Object(l["a"])(z,g,v,!1,null,null,null)),O=j.exports,A=s("aed9"),E=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.log?s("div",{staticClass:"log"},e._l(e.log.slice().reverse(),(function(t){return s("div",{staticClass:"log-entry"},[s("small",[e._v("["+e._s(new Date(t.date).toLocaleString())+"] - ")]),s("em",[e._v(e._s(t.message))])])})),0):e._e()},R=[],y={name:"log-ctrl",props:["log"]},D=y,F=(s("cfa2"),Object(l["a"])(D,E,R,!1,null,null,null)),S=F.exports,U={name:"file",props:["chainId","address"],components:{Spinner:m,FileChunks:O,AddressTitle:A["a"],LogCtrl:S},data:function(){return{imageUrl:void 0,addr:void 0,hideCache:void 0}},created:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:s=e.cache,s.size&&e.getImageFromBC();case 2:case"end":return t.stop()}}),t)})))()},beforeDestroy:function(){this.deleteImage(),this.addr&&this.addr.cancelRequests()},computed:{net:function(){var e=this.getNetwork,t=this.chainId;return e()(t)},cache:function(){var e=this.getCache,t=this.address,s=this.chainId;return e()({address:t,chainId:s})},imageDate:function(){var e=this.cache.created;return e?new Date(e):void 0},isRequestingSize:function(){var e=this.isSizeRequested,t=this.chainId,s=this.address;return e()({chainId:t,address:s})},meta:function(){var e=this.getAddressData,t=this.chainId,s=this.address;return e()({chainId:t,address:s})}},methods:Object(i["a"])(Object(i["a"])(Object(i["a"])({},Object(c["c"])(["getCache","getNetwork","isSizeRequested","getAddressData"])),Object(c["b"])(["createAddress"])),{},{getImageFromBC:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var s,r,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.addr){t.next=2;break}return t.abrupt("return");case 2:return s=e.createAddress,r=e.chainId,a=e.address,t.next=5,s({chainId:r,address:a});case 5:return e.addr=t.sent,i=e.addr.getImage,t.next=9,i();case 9:e.createImage();case 10:case"end":return t.stop()}}),t)})))()},deleteImage:function(){var e=this.imageUrl;e&&URL.revokeObjectURL(e),this.imageUrl=void 0},createImage:function(){var e=this.imageUrl;if(e)return e;var t=this.cache.image,s=this.meta.extension;if(t&&s){var r="image/".concat(s);this.imageUrl=URL.createObjectURL(new Blob([t.buffer],{type:r}))}return this.imageUrl},imgError:function(){this.hideCache=!0,this.getImageFromBC()},imgLoaded:function(){this.hideCache=!1}})},q=U,L=(s("1f03"),Object(l["a"])(q,r,a,!1,null,null,null));t["default"]=L.exports},a15b:function(e,t,s){"use strict";var r=s("23e7"),a=s("44ad"),i=s("fc6a"),n=s("a640"),c=[].join,o=a!=Object,h=n("join",",");r({target:"Array",proto:!0,forced:o||!h},{join:function(e){return c.call(i(this),void 0===e?",":e)}})},a9e3:function(e,t,s){"use strict";var r=s("83ab"),a=s("da84"),i=s("94ca"),n=s("6eeb"),c=s("5135"),o=s("c6b6"),h=s("7156"),u=s("c04e"),d=s("d039"),l=s("7c73"),f=s("241c").f,m=s("06cf").f,g=s("9bf2").f,v=s("58a8").trim,p="Number",b=a[p],_=b.prototype,I=o(l(_))==p,C=function(e){var t,s,r,a,i,n,c,o,h=u(e,!1);if("string"==typeof h&&h.length>2)if(h=v(h),t=h.charCodeAt(0),43===t||45===t){if(s=h.charCodeAt(2),88===s||120===s)return NaN}else if(48===t){switch(h.charCodeAt(1)){case 66:case 98:r=2,a=49;break;case 79:case 111:r=8,a=55;break;default:return+h}for(i=h.slice(2),n=i.length,c=0;c<n;c++)if(o=i.charCodeAt(c),o<48||o>a)return NaN;return parseInt(i,r)}return+h};if(i(p,!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var k,w=function(e){var t=arguments.length<1?0:e,s=this;return s instanceof w&&(I?d((function(){_.valueOf.call(s)})):o(s)!=p)?h(new b(C(t)),s,w):C(t)},N=r?f(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),T=0;N.length>T;T++)c(b,k=N[T])&&!c(w,k)&&g(w,k,m(b,k));w.prototype=_,_.constructor=w,n(a,p,w)}},bfed:function(e,t,s){},c11d:function(e,t,s){},ce04:function(e,t,s){},cfa2:function(e,t,s){"use strict";s("bfed")},e720:function(e,t,s){"use strict";s("c11d")}}]);
//# sourceMappingURL=file.7c3cf55b.js.map